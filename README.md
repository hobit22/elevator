# Elevator Simulator

## 설명
구현한 시뮬레이션은 총 5개의 엘리베이터와 5개의 층으로 구성되어 있습니다.

## 실행방법
예)
```
500                       // 총 실행 시간
100                       // thread sleep 시간
2 4 100;5 2 300           // 0층에서의 손님 
3 0 500;1 4 200           // 1층에서의 손님
5 0 200;2 1 500;3 3 600   // 2층에서의 손님
4 0 200                   // 3층에서의 손님
2 3 300;6 2 100;4 0 40    // 4층에서의 손님
```
각 층마다 손님 그룹은 ; 로 구분되어 있습니다.

0층의 손님 ``` 2 4 100;5 2 300 ``` 을 살펴보면, 

100초에 2명의 손님이 4층으로 가고싶어 합니다. 300초에 5명의 손님이 2층으로 가고싶어합니다. 를 나타냅니다.

또한 손님의 요청은 입력받은 초 마다 반복하여 들어옵니다.

### 출력 예시
<details>
<summary>접기/펼치기 버튼</summary>
<div markdown="1">

```

Time:  40  4 명의 승객 4 층에서 0 층으로 가고싶음
Time:  40  Elevator 3 : 이동중 0층에서 4 층으로 
Time:  61  Elevator 3 : 4 층 도착 4 명의 손님 탑승 
Time:  90  Elevator 3 : 0 층 도착 4 명의 손님 내림 
Time:  100  2 명의 승객 0 층에서 4 층으로 가고싶음
Time:  100  6 명의 승객 4 층에서 2 층으로 가고싶음
Time:  100  Elevator 2 : 이동중 0층에서 0 층으로 
Time:  100  Elevator 3 : 이동중 0층에서 4 층으로 
Time:  100  Elevator 2 : 0 층 도착 2 명의 손님 탑승 
Time:  120  Elevator 3 : 4 층 도착 6 명의 손님 탑승 
Time:  130  Elevator 2 : 4 층 도착 2 명의 손님 내림 
Time:  140  Elevator 3 : 2 층 도착 6 명의 손님 내림 
Time:  200  1 명의 승객 1 층에서 4 층으로 가고싶음
Time:  200  5 명의 승객 2 층에서 0 층으로 가고싶음
Time:  200  Elevator 2 : 이동중 4층에서 1 층으로 
Time:  200  4 명의 승객 3 층에서 0 층으로 가고싶음
Time:  200  Elevator 0 : 이동중 0층에서 2 층으로 
Time:  200  Elevator 4 : 이동중 0층에서 3 층으로 
Time:  210  Elevator 0 : 2 층 도착 5 명의 손님 탑승 
Time:  215  Elevator 4 : 3 층 도착 4 명의 손님 탑승 
Time:  215  Elevator 2 : 1 층 도착 1 명의 손님 탑승 
Time:  230  Elevator 0 : 0 층 도착 5 명의 손님 내림 
Time:  240  Elevator 4 : 0 층 도착 4 명의 손님 내림 
Time:  240  Elevator 2 : 4 층 도착 1 명의 손님 내림 
Time:  300  5 명의 승객 0 층에서 2 층으로 가고싶음
Time:  300  2 명의 승객 4 층에서 3 층으로 가고싶음
Time:  300  Elevator 3 : 이동중 2층에서 0 층으로 
Time:  300  Elevator 2 : 이동중 4층에서 4 층으로 
Time:  300  Elevator 2 : 4 층 도착 2 명의 손님 탑승 
Time:  312  Elevator 3 : 0 층 도착 5 명의 손님 탑승 
Time:  315  Elevator 2 : 3 층 도착 2 명의 손님 내림 
Time:  332  Elevator 3 : 2 층 도착 5 명의 손님 내림 
Time:  500  3 명의 승객 1 층에서 0 층으로 가고싶음
Time:  500  2 명의 승객 2 층에서 1 층으로 가고싶음
Time:  500  Elevator 0 : 이동중 0층에서 1 층으로 
Time:  500  Elevator 4 : 이동중 0층에서 2 층으로 
Floor 0:
이 엘리베이터는 현재 -1 로 이동중
이 층에서 엘리베이터를 요청한 손님 수 7
이 층에 도착한 승객 수 13
이 층에서 현재 대기중인 승객 수0
각 엘리베이터에서 이 층으로 온 손님의 수 : 5 0 0 4 4 
Floor 1:
이 엘리베이터는 현재 0 로 이동중
이 층에서 엘리베이터를 요청한 손님 수 4
이 층에 도착한 승객 수 0
이 층에서 현재 대기중인 승객 수3
각 엘리베이터에서 이 층으로 온 손님의 수 : 0 0 0 0 0 
Floor 2:
이 엘리베이터는 현재 4 로 이동중
이 층에서 엘리베이터를 요청한 손님 수 7
이 층에 도착한 승객 수 11
이 층에서 현재 대기중인 승객 수2
각 엘리베이터에서 이 층으로 온 손님의 수 : 0 0 0 11 0 
Floor 3:
이 엘리베이터는 현재 -1 로 이동중
이 층에서 엘리베이터를 요청한 손님 수 4
이 층에 도착한 승객 수 2
이 층에서 현재 대기중인 승객 수0
각 엘리베이터에서 이 층으로 온 손님의 수 : 0 0 2 0 0 
Floor 4:
이 엘리베이터는 현재 -1 로 이동중
이 층에서 엘리베이터를 요청한 손님 수 12
이 층에 도착한 승객 수 3
이 층에서 현재 대기중인 승객 수0
각 엘리베이터에서 이 층으로 온 손님의 수 : 0 0 3 0 0 
Elevator ID: 0
이 엘리베이터를 탑승한 승객 수 5
이 엘리베이터를 이용하여 0 층에서 5 명 내림 
이 엘리베이터를 이용하여 1 층에서 0 명 내림 
이 엘리베이터를 이용하여 2 층에서 0 명 내림 
이 엘리베이터를 이용하여 3 층에서 0 명 내림 
이 엘리베이터를 이용하여 4 층에서 0 명 내림 
총 내린 승객 수 : 5
현재 승객 수 : 0

Elevator ID: 1
이 엘리베이터를 탑승한 승객 수 0
이 엘리베이터를 이용하여 0 층에서 0 명 내림 
이 엘리베이터를 이용하여 1 층에서 0 명 내림 
이 엘리베이터를 이용하여 2 층에서 0 명 내림 
이 엘리베이터를 이용하여 3 층에서 0 명 내림 
이 엘리베이터를 이용하여 4 층에서 0 명 내림 
총 내린 승객 수 : 0
현재 승객 수 : 0

Elevator ID: 2
이 엘리베이터를 탑승한 승객 수 5
이 엘리베이터를 이용하여 0 층에서 0 명 내림 
이 엘리베이터를 이용하여 1 층에서 0 명 내림 
이 엘리베이터를 이용하여 2 층에서 0 명 내림 
이 엘리베이터를 이용하여 3 층에서 2 명 내림 
이 엘리베이터를 이용하여 4 층에서 3 명 내림 
총 내린 승객 수 : 5
현재 승객 수 : 0

Elevator ID: 3
이 엘리베이터를 탑승한 승객 수 15
이 엘리베이터를 이용하여 0 층에서 4 명 내림 
이 엘리베이터를 이용하여 1 층에서 0 명 내림 
이 엘리베이터를 이용하여 2 층에서 11 명 내림 
이 엘리베이터를 이용하여 3 층에서 0 명 내림 
이 엘리베이터를 이용하여 4 층에서 0 명 내림 
총 내린 승객 수 : 15
현재 승객 수 : 0

Elevator ID: 4
이 엘리베이터를 탑승한 승객 수 4
이 엘리베이터를 이용하여 0 층에서 4 명 내림 
이 엘리베이터를 이용하여 1 층에서 0 명 내림 
이 엘리베이터를 이용하여 2 층에서 0 명 내림 
이 엘리베이터를 이용하여 3 층에서 0 명 내림 
이 엘리베이터를 이용하여 4 층에서 0 명 내림 
총 내린 승객 수 : 4
현재 승객 수 : 0

```

</div>
</details>

## Elevator
엘리베이터를 구현하기 위해 id, 현재위치한 층, 탑승한 승객의 수, 명령을 담아 놓은 moveQueue, 승객의 목적지, 이동중인 상태를 체크하는 변수를 넣어 설계했습니다.
총 5개의 엘리베이터가 독립적으로 움직이기 위해 Runnable을 상속받아 멀티스레드로 구현했습니다.
5개의 엘리베이터를 통제하기 위해 BuildingManager 클래스를 만들어 이곳에서 각각의 엘리베이터에게 요청을 전달하도록 하였습니다.

<details>
<summary>접기/펼치기 버튼</summary>
<div markdown="1">

```

public class Elevator implements Runnable {

	private int elevatorID;

	private int currentFloor;

	private int numPassengers;

	private int totalLoadedPassengers;

	private int totalUnloadedPassengers;

	private ArrayList<ElevatorEvent> moveQueue;

	private int[] passengerDestinations;

	private BuildingManager BM;

	private boolean down;
	
  // 생성자
	public Elevator(int elevatorID, BuildingManager manager){
    ...
	}

	@Override
	public void run(){
		...
	}

	public void pickUpPassengersUp(int period){
      ...
	}

	public void pickUpPassengersDown(int period){
      ...
	}
    ...
}

```

</div>
</details>

## 추가로 구현하려 했으나 하지 못했던것

1. 엘리베이터의 최대 중량 설정

   엘리베이터에서 수용 가능한 최대 중량을 설정하고, 승객의 몸무게를 입력하여 엘리베이터가 그 승객을 수용할 수 있는지 체크하는 로직

2. 엘리베이터마다 갈 수 있는 층 설정

   실제 건물의 엘리베이터처럼, 어떤 엘리베이터는 짝수층만 갈 수 있고, 어떤 엘리베이터는 홀수층만 갈 수 있는 성질을 elevator 객체에 넣고 싶었습니다.

시간과 생각을 코드로 녹여내는 실력이 부족하여 두 기능을 구현하지 못하였습니다.

## 느낀점

개념으로만 알고있었던 멀티스레드를 직접 적용하여 구현한 적이 거의 없었었는데, 스레드에 대해 깊이 알 수 있는 기회였습니다.
또한 실생활에서 자주 사용하는 엘리베이터의 알고리즘에 대해 깊이 생각 할 수 있었고, 더 좋은 방법은 계속해서 떠오르지만, 코드로 녹여내는 작업이 생각보다 쉽지 않았습니다.
